<!-- Copyright (C) 2020 Carlo Campagnoli <carlo.campagnoli@princeton.edu> -->

<!DOCTYPE html>

<!-- website -->
<html>

	<!-- title & shit -->
	<head>

		<!-- load jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- load D3 library (to parse CSV files) -->
		<script src="https://d3js.org/d3.v5.min.js"></script>

		<!-- CSS functions -->
		<link rel="stylesheet" type="text/css" href="style.css">

		<!-- specifies the character encoding for the HTML document -->
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	    
	    <!-- Unity-built files -->
	    <script src="https://visuomotorrotation.s3.amazonaws.com/clamp/Unity+Build/TemplateData/UnityProgress.js"></script>
	    <link rel="stylesheet" href="https://visuomotorrotation.s3.amazonaws.com/clamp/Unity+Build/TemplateData/style.css">
	    <script src="https://visuomotorrotation.s3.amazonaws.com/clamp/Unity+Build/Build/UnityLoader.js"></script>

	</head>

	<!-- Main body -->
	<body onload="initConditions()">

		<!-- gameContainers -->
		<div id="gameContainer"
	    	 style="display: none;
	    	 		width: 360px;
	  				height: 360px;">
		</div>

		<!-- first screen - consent form -->
		<div id="consentForm">
			<p><u>Consent to Participate in Research (please scroll to the bottom to accept and continue):</u></p>
			<p>You are being invited to take part in a research study. Before you decide to participate in this study, it is important that you understand why the research is being done and what it will involve. Please take the time to read the following information carefully. Please ask the researcher if there is anything that is not clear or if you need more information.</p>
			<p><strong>Purpose of the research:</strong></p>
			You are being invited to participate in a study of motor and cognitive processes conducted in the Intelligent Performance and Adaptation Laboratory, directed by Professor Jordan Taylor, in the Department of Psychology at Princeton University. The research deals with how people acquire and produce certain motor skills and how visual and auditory information are used to guide actions.
			<p><strong>Study Procedures:</strong></p>
			You will be asked to respond to images on a screen using your keyboard and/or mouse. If you decide to participate in this project, please understand that your participation is voluntary and you have the right to withdraw your consent or discontinue participation at any time.
			Your total expected time commitment for this study will vary, but is at maximum one hour.
			<p><strong>Benefits and Risks:</strong></p>
			It is important that you understand that there is no direct benefit to you anticipated from your participation in this study.
			There is a slight chance you may feel frustrated or uncomfortable if the task is difficult for you to do, but you are free to discontinue your participation in the study if you choose. Please let us know if you feel fatigued or uncomfortable at any time during the experiment. 
			<p><strong>Alternatives</strong></p>
			The alternative to participating in this particular study is to not participate.
			<p><strong>Confidentiality:</strong></p> 
			All records from this study will be kept confidential. Your responses will be kept private, and we will not include any information that will make it possible to identify you in any report we might publish. Research records will be stored securely in a locked cabinet and/or on password-protected computers. The research team will be the only party that will have access to your data. 
			<p><strong>Compensation:</strong></p>
			You will be paid an honorarium for participation at a rate of $3 per hour. 
			<p><strong>Who to contact with questions:</strong></p>
			PRINCIPAL INVESTIGATOR: Jordan Taylor, PhD | 429 Peretsman-Scully Hall | office: (609) 258-4648 | email: jordanat@princeton.edu | If you have questions regarding your rights as a research subject, or if problems arise which you do not feel you can discuss with the Investigator, please contact the Institutional Review Board at:
			Assistant Director, Research Integrity and Assurance
			Phone: (609) 258-8543
			Email: irb@princeton.edu
			<p style='text-align: center; font-size: 12pt'><strong>THIS HIT REQUIRES THE USE OF A KEYBOARD AND CANNOT BE COMPLETED WITH A TABLET OR A CELL PHONE</strong></p>

			<!-- Continue button -->
			<p style='text-align: center; font-size: 12pt'>
				<a style="color: black" href='javascript:acceptAndContinue()'><strong>ACCEPT & CONTINUE</strong></a>
			</p>
		</div>

		<!-- Instructions fields -->
		<div id="instructions_0"
			 class="instruction_pages"
			 style="display: none">
			 <div class="loading">
				<div id="loadingBox">Loading stimulee... please wait.</div>
			</div>
		</div>

		<div id="instructions_1"
			 class="instruction_pages"
			 style="display: none">
			<p> 
				In this HIT, you will see two objects lying on a tabletop: a blue object hitting a stationary red object.
				<strong>Assume no effect of gravity:</strong> imagine you are seeing the scene from bird's eye view (top view).<br>
			</p>

			<video 	id="intro_video"
					class="intro_media"
					align="middle"
					height=360 
					muted
					autoplay>
					<source id="intro_mp4" type="video/mp4">
			</video>

			<p>
				The animation will be brief (1 second) and stop right before collision.
			</p>

			<!-- Continue button -->
			<p style='text-align: center'>
				<a style="display: none" class="advanceButton" href='javascript:continueInstructions()' id='advanceButton_intro1'>Continue</a>
			</p>
		</div>

		<div id="instructions_2"
			 class="instruction_pages"
			 style="display: none">
			<p style="text-align: center">
				<strong>Where will the red ball go?</strong><br>
				Note that the red object is attached to a physical system.<br> <strong>
				Take it into account when answering.</strong>
			</p>

			<div style="margin: auto;
						position: relative;
  						text-align: center;">
				<img 	id="intro_where_ball_go"
						class="intro_media"
						src=""
						align="middle"
						height=360>
				<div class="baloon1">
					You will be presented with<br>
					<strong>one possible trajectory</strong>
				</div>
			</div>

			<!-- Continue button -->
			<p style='text-align: center'>
				<a class="advanceButton" href='javascript:continueInstructions()' id='advanceButton_intro2'>Continue</a>
			</p>
		</div>

		<div id="instructions_3"
			 class="instruction_pages"
			 style="display: none">
			<p style="text-align: center">
				Now hover the mouse over the gray area and the system will follow it. Move around and get an idea of how it works.
				During the experiment <strong>you will be given 5 seconds to do this and then you will be asked where the red ball will go.</strong>
			</p>

			<!-- Unity game element -->
			<div id="Unity_intro1" align="middle">
			    <!-- append a gameContainer here -->
	  		</div>
	  		<!-- debug element -->
	  		<!-- <div id="dbg"></div> --> 

			<!-- Continue button -->
			<p style='text-align: center'>
				<a class="advanceButton" href='javascript:continueInstructions()' id='advanceButton_intro3'>Continue</a>
			</p>
		</div>

		<div id="instructions_4"
			 class="instruction_pages"
			 style="display: none">
			<p>
				Here is an example of what one trial may look like.<br>
			</p>

			<!-- Unity game element -->
			<div id="Unity_intro2" align="middle">
				<!-- append a gameContainer here -->
		  		<div id="hoverMsg" class="hoverMsg">
					Hover the mouse to explore the system (5sec)
				</div>
	  		</div>

			<!-- video field -->
			<div class="rotate" align="middle">
				<video 	id="intro_video_N"
						class="centerHidden"
						align="middle"
						height=360 
						muted
						autoplay>
					<source id="intro_N_mp4" type="video/mp4">
				</video>
			</div>

			<!-- image field is initialized as hidden -->
			<div class="rotate">
				<img 	id="intro_image_N"
						src=""
						class="centerHidden"
						align="middle"
						height=360>
			</div>

			<div id="intro_instructions"
				 style="text-align:center;
						margin-top: 0px;
						display: none;">
				The trajectory is<br>
					<pre><p style="font-family: Arial, Helvetica">accurate (a)	wrong (w)</p></pre>
			</div>

			<p 	id="intro_final"
				style="text-align:center;
					   display: none;">
				<br><br>The HIT should take approximately 10 minutes.<br>
				<a class="advanceButton" href='javascript:startExperiment()' id='advanceButton_intro4'>Start Experiment</a>
			</p>

		</div>

		<!-- Trial counter -->
		<div id="instrucBox">
			<div id="trialNum" style="text-align:left">Trial 1 of X</div>
		</div>

		<!-- Stimuli box -->
		<div id="box" style="text-align:center">

			<div id="stimuliField">

				<!-- Unity game element -->
				<div id="Unity" align="middle">
					<!-- append gameContainer here -->
			  		<div id="hoverMsg" class="hoverMsg">
						Hover the mouse to explore the system (5sec)
					</div>
		  		</div>

				<!-- video field -->
				<div class="rotate">
					<video 	id="first_stimulus"
							class="centerHidden"
							align="middle"
							height=360 
							muted
							autoplay>
						<source id="mp4" type="video/mp4">
					</video>
				</div>

				<!-- image field is initialized as hidden -->
				<div class="rotate">
					<img 	id="second_stimulus"
							src=""
							class="centerHidden"
							align="middle"
							height=360>
				</div>

				<!-- response instructions -->
				<div id="answersInstr">
					The trajectory is<br>
					<pre><p style="font-family: Arial, Helvetica">accurate (a)	wrong (w)</p></pre>
				</div>

			</div>

			<!-- response fields -->
			<div id="DVFields">
				<input 	name="response0" id="responseKey0" type="hidden" value="0">
				<input 	name="RT0" id="RTKey0" type="hidden" value="0">
				<!-- These are placeholders needed by mturk, the rest is populated in js -->
			</div>

			<!-- Independent Variables fields -->
			<div id="IVFields">
				<input 	name="system0" id="system0" type="hidden" value="0">
				<input 	name="motionPath0" id="motionPath0" type="hidden" value="0">
				<input 	name="direction0" id="direction0" type="hidden" value="0">
				<!-- rest is populated in js -->
			</div>

			<div id="mousePosFields">
				<input  name="mousePosX0" id="mpX0" type="hidden" value="0">
				<input  name="mousePosY0" id="mpY0" type="hidden" value="0">
				<input 	name="time0" id="time0" type="hidden" value="0">
				<!-- rest is populated in js -->
			</div>
			
		</div>

		<!-- End of experiment field -->
		<div id="done">
			<div id="doneText">	
				Done!<br><br>
				Please scroll down to submit your HIT.<br><br>
				Thank you!
			</div>
		</div>

	</body>

</html>

<!-- JS functions -->
<script src="main.js"></script> 